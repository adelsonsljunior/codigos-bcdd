CREATE DATABASE IF NOT EXISTS ATV2;
USE ATV2;


CREATE TABLE IF NOT EXISTS  PRODUTO(
ID                  INTEGER NOT NULL PRIMARY KEY,
DESCRICAO           VARCHAR(30),
QUANT               DECIMAL(9,3),
VALOR               DECIMAL(5,2),
QUANT_MINIMA        DECIMAL(9,3),
PERECIVEL           BOOLEAN
);


INSERT INTO PRODUTO (ID, DESCRICAO, QUANT, VALOR, QUANT_MINIMA, PERECIVEL) 
VALUES (1, 'BAUDUCCO - BISCOITO WAFER', 100, 1.85, 10, TRUE),
(2, 'BOMBRIL - ESPONJA DE AÇO', 200, 1.99, 20, FALSE),
(3, 'COCA-COLA - REFRIGERANTE', 50, 6.50, 10, TRUE),
(4, 'DANONINHO - PETIT SUISSE', 25, 5.99, 5, TRUE),
(5, 'DONA BENTA - FARINHA DE TRIGO', 17, 5.99, 6, TRUE),
(6, 'ELEFANTE - EXTRATO DE TOMATE', 12, 3.50, 5, TRUE),
(7, 'HAVAIANAS - CHINELO', 15, 20.00, 10, FALSE),
(8, 'KIBON - SORVETE', 9, 18.99, 10, TRUE),
(9, 'KNORR - CALDO', 72, 1.47, 50, TRUE),
(10, 'LUX - SABONETE EM BARRA', 48, 1.99, 20, FALSE),
(11, 'MAGGI - SOPA', 4, 4.59, 8, TRUE),
(12, 'NESCAFÉ - CAFÉ SOLÚVEL', 90, 3.55, 50, TRUE),
(13, 'NESCAU - ACHOCOLATADO EM PÓ', 13, 7.70, 10, TRUE),
(14, 'NISSIN LÁMEN - INSTANT NEO', 33, 1.29, 25, TRUE),
(15, 'OMO - SABÃO EM PÓ', 26, 9.70, 7, FALSE);


SELECT * FROM PRODUTO;


CREATE TABLE IF NOT EXISTS   UF(
ID            INTEGER NOT NULL PRIMARY KEY,
NOME          VARCHAR(20),
SIGLA         CHAR(2)
);


INSERT INTO UF (ID, NOME, SIGLA) 
VALUES (1, 'AMAZONAS', 'AM'),
(2, 'PARÁ', 'PA'),
(3, 'CEARÁ', 'CE'),
(4, 'PERNAMBUCO', 'PE'),
(5, 'TOCANTINS', 'TO'),
(6, 'MATO GROSSO', 'MT'),
(7, 'SÃO PAULO', 'SP'),
(8, 'MINAS GERAIS', 'MG'),
(9, 'RIO GRANDE DO SUL', 'RS'),
(10, 'SANTA CATARINA', 'SC');


SELECT * FROM UF;


CREATE TABLE IF NOT EXISTS MUNICIPIO(
ID                  INTEGER NOT NULL PRIMARY KEY,
NOME                VARCHAR(30),
UF_ID               INTEGER,
FOREIGN KEY (UF_ID) REFERENCES UF (ID)
);


INSERT INTO MUNICIPIO (ID, NOME, UF_ID) 
VALUES (1, 'MANAUS', 1),
(2, 'ALAGOAS', 1),
(3, 'BELÉM', 2),
(4, 'NOVO PROGRESSO', 2),
(5, 'FORTALEZA', 3),
(6, 'JUAZEIRO DO NORTE', 3),
(7, 'BARBALHA', 3),
(8, 'CRATO', 3),
(9, 'RECIFE', 4),
(10, 'TRINDADE', 4),
(11, 'PALMAS', 5),
(12, 'NAZARÉ', 5),
(13, 'CUIABÁ', 6),
(14, 'ÁGUA BOA', 6),
(15, 'SÃO PAULO', 7),
(16, 'OSASCO', 7),
(17, 'BELO HORIZONTE', 8),
(18, 'CAMPO AZUL', 8),
(19, 'PORTO ALEGRE', 9),
(20, 'SERTÃO', 9),
(21, 'FLORIANÓPOLIS', 10),
(22, 'SERTÃO', 10);


SELECT * FROM MUNICIPIO;


CREATE TABLE IF NOT EXISTS CLIENTE(
ID                          INTEGER NOT NULL PRIMARY KEY,
NOME                        VARCHAR(50),
LOGRADOURO                  VARCHAR(30),
NUMERO                      VARCHAR(6),
BAIRRO                      VARCHAR(20),
MUNICIPIO_ID                INTEGER,
FOREIGN KEY (MUNICIPIO_ID) REFERENCES MUNICIPIO (ID)
);


INSERT INTO CLIENTE (ID, NOME, LOGRADOURO, NUMERO, BAIRRO, MUNICIPIO_ID) 
VALUES (1, 'ADRIANA PENTEADO', 'RUA ZURIEL LOBATO', '348', 'SEABRA', 6),
(2, 'BERNARDO TRINDADE', 'RUA SABINO SILVA', '986', 'CENTRO', 6),
(3, 'GRAÇA JUNQUEIRA', 'AV. BELMIRO CARNEIRO', '937A', 'BAIXÃO', 6),
(4, 'JULIANO PARAHYBA', 'RUA RAIMUNDA DA SILVA', '3572', 'LAGOA', 6),
(5, 'EUGÊNIO PERES', 'RUA ANDRÉ LEÃO', '8768', 'BRASÍLIA', 7),
(6, 'AMELIA CARMERINO', 'RUA LEITE NETO', '5737', 'CACIMBAS', 8),
(7, 'FRANCISCO SILVA', 'AV. FRANCISCO SILVA', '6321', 'CENTRO', 9),
(8, 'CAETALTO TELES', 'AV. DELFINA CALDAS', '945', 'CENTRO', 10);


SELECT * FROM CLIENTE;


CREATE TABLE IF NOT EXISTS  TIPO_PAGTO(
IDPAGTO                 INTEGER NOT NULL PRIMARY KEY,
TIPO_PAGTO              VARCHAR(20)
);


INSERT INTO TIPO_PAGTO (IDPAGTO, TIPO_PAGTO) 
VALUES (1, 'DINHEIRO'),
(2, 'CARTÃO'),
(3, 'BOLETO');


SELECT * FROM TIPO_PAGTO;


CREATE TABLE IF NOT EXISTS  VENDA(
ID                      INTEGER NOT NULL PRIMARY KEY,
DT_VENDA                DATE,
TIPO_PAGTO_ID           INTEGER,
CLIENTE_ID              INTEGER,
FOREIGN KEY (TIPO_PAGTO_ID) REFERENCES TIPO_PAGTO (IDPAGTO),
FOREIGN KEY (CLIENTE_ID) REFERENCES CLIENTE (ID)
);


INSERT INTO VENDA (ID, DT_VENDA, TIPO_PAGTO_ID, CLIENTE_ID) 
VALUES (1, '2019-11-06', 1, 1),
(2, '2019-11-06', 2, 3),
(3, '2019-11-11', 1, 6),
(4, '2019-11-16', 3, 4),
(5, '2019-11-26', 3, 3),
(6, '2019-11-26', 2, 5),
(7, '2019-11-26', 1, 2),
(8, '2019-12-01', 1, 3),
(9, '2019-12-01', 3, 5),
(10, '2019-12-06', 2, 8),
(11, '2019-12-06', 2, 1),
(12, '2019-12-06', 3, 3),
(13, '2019-12-06', 2, 6),
(14, '2019-12-06', 2, 5),
(15, '2019-12-16', 3, 2),
(16, '2019-12-16', 3, 3),
(17, '2019-12-16', 1, 5),
(18, '2019-12-26', 3, 3),
(19, '2019-12-26', 3, 1),
(20, '2019-12-26', 2, 2);


SELECT * FROM VENDA;


CREATE TABLE IF NOT EXISTS  DOCUMENTO(
ID            INTEGER NOT NULL PRIMARY KEY,
VR_DOCUMENTO           DECIMAL(5,2),
DT_VENC                DATE,
VENDA_ID               INTEGER,
CLIENTE_ID             INTEGER,
FOREIGN KEY (VENDA_ID) REFERENCES VENDA (ID),
FOREIGN KEY (CLIENTE_ID) REFERENCES CLIENTE (ID)
);


INSERT INTO DOCUMENTO (ID, VR_DOCUMENTO, DT_VENC, VENDA_ID, CLIENTE_ID) 
VALUES (1, 4.41, '2020-11-21', 4, 4),
(2, 129.10, '2020-11-26', 5, 3),
(3, 61.72, '2020-12-01', 9, 5),
(4, 98.40, '2020-12-06', 12, 3),
(5, 80.82, '2020-12-16', 15, 2),
(6, 31.84, '2020-12-25', 16, 3),
(7, 180.09, '2021-01-07', 18, 3),
(8, 7.74, '2021-03-26', 19, 1);


SELECT * FROM DOCUMENTO;


CREATE TABLE IF NOT EXISTS  ITEM_VENDA(
ID                    INTEGER NOT NULL PRIMARY KEY,
VENDA_ID              INTEGER,
PRODUTO_ID            INTEGER,
QT_ITEM               DECIMAL(9,3),
VT_ITEM               DECIMAL(9,3),
FOREIGN KEY (VENDA_ID) REFERENCES VENDA (ID),
FOREIGN KEY (PRODUTO_ID) REFERENCES PRODUTO (ID)
);


INSERT INTO ITEM_VENDA (ID, VENDA_ID, PRODUTO_ID, QT_ITEM, VT_ITEM) 
VALUES (1, 1, 13, 6, 7.70),
(2, 2, 3, 8, 6.50),
(3, 3, 8, 9, 18.99),
(4, 3, 3, 10, 6.50),
(5, 3, 12, 5, 3.55),
(6, 3, 10, 9, 1.99),
(7, 4, 9, 3, 1.47),
(8, 5, 9, 9, 1.47),
(9, 5, 2, 9, 1.99),
(10, 5, 6, 4, 3.50),
(11, 5, 4, 4, 5.99),
(12, 5, 7, 3, 20.00),
(13, 6, 10, 4, 1.99),
(14, 6, 6, 6, 3.50),
(15, 6, 13, 2, 7.70),
(16, 7, 12, 10, 3.55),
(17, 7, 1, 6, 1.85),
(18, 7, 11, 4, 4.59),
(19, 8, 14, 3, 1.29),
(20, 9, 11, 3, 4.59),
(21, 9, 12, 7, 3.55),
(22, 9, 13, 3, 7.70),
(23, 10, 10, 8, 1.99),
(24, 11, 3, 7, 6.50),
(25, 12, 13, 5, 7.70),
(26, 12, 4, 10, 5.99),
(27, 13, 15, 3, 9.70),
(28, 13, 13, 10, 7.70),
(29, 13, 6, 6, 3.50),
(30, 13, 10, 8, 1.99),
(31, 14, 3, 6, 6.50),
(32, 14, 8, 2, 18.99),
(33, 15, 5, 8, 5.99),
(34, 15, 11, 5, 4.59),
(35, 15, 10, 5, 1.99),
(36, 16, 12, 1, 3.55),
(37, 16, 14, 8, 1.29),
(38, 16, 5, 3, 5.99),
(39, 17, 3, 3, 6.50),
(40, 17, 12, 2, 3.55),
(41, 17, 1, 3, 1.85),
(42, 18, 11, 10, 4.59),
(43, 18, 14, 11, 1.29);


SELECT * FROM ITEM_VENDA;